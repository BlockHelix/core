# BlockHelix / Ne1 Project Management Notes

**Last Updated:** 2026-02-07 (Day 5 of 10)
**Days Remaining:** 5 days, 13 hours until Feb 12, 17:00 UTC deadline
**Status:** EXECUTION MODE - Code + Demo + Submit
**Agent Status:** claimed (Will claimed 2026-02-04)

---

## BRAIN.MD SYNC (Feb 7)

Will added `.claude/brain.md` with rich context. Key decisions now active:

| ID | Decision | Impact on Hackathon |
|----|----------|---------------------|
| D07 | Demo agent = Ne1 Patch Agent (AWS-style endpoint, GitHub PR output) | THIS is the demo, not the 3-tier general agent |
| D08 | Ne1 = product layer (AWS feel), BlockHelix = protocol (invisible) | Branding split -- user never sees "BlockHelix" |
| D09 | Video: clean x402 flow first, then "secret sauce" reveal | Demo script is defined |
| D10 | Agent sandbox: ECS Fargate, zero-trust, NACL deny all link-local | Infra hardening before production |

CRITICAL REALIGNMENT: Brain.md's 5-day plan and the previous PM notes have diverged.
- Previous PM notes pivoted to a "3-tier general agent" platform with freemium model.
- Brain.md says: Ne1 Patch Agent, clean endpoint `/ne1/patch`, x402 payment, Arweave receipts, `complete_job` on-chain. No mention of general agent tiers.
- Will's intent is clear from brain.md. The Patch Agent IS the demo. The general agent work is useful infrastructure but NOT the demo story.

DECISION: Realign to brain.md. The Patch Agent with x402 payment, real GitHub PR output, and on-chain receipt is the demo. The platform (AgentFactory, Create Agent UI) is the framing. The general agent runtime is supporting infrastructure.

---

## STATE ASSESSMENT: What's Built vs What's Needed

### ON-CHAIN PROGRAMS (Anchor 0.32.1)

| Program | Status | Notes |
|---------|--------|-------|
| AgentVault | PRODUCTION READY | deposit, withdraw, receive_revenue, operator bond as shares, u128 math, PDA authority. Tests passing. Program ID: `HY1b7thWZtAxj7thFw5zA3sHq2D8NXhDkYsNjck2r4HS` |
| ReceiptRegistry | FULLY IMPLEMENTED | initialize_registry, record_job, challenge_job, resolve_for/against, finalize_job, verify_receipt. Full state machine: Active -> Challenged -> Resolved/Rejected, Active -> Finalized. Program ID: `jks1tXZFTTnoBdVuFzvF5XA8i4S39RKcCRpL9puiuz9` |
| AgentFactory | FULLY IMPLEMENTED | initialize_factory, create_agent (CPI to vault + registry in one tx), update_agent, deactivate_agent. Agent metadata with name, github_handle, endpoint_url. Program ID: `7Hp1sUZfUVfhvXJjtKZbyUuEVQpk92siyFLrgmwmAq7j` |

NOTE: Previous PM notes said ReceiptRegistry and AgentFactory were "stubs." That was WRONG. The code is fully implemented -- record_job, challenge_job, resolve, finalize, create_agent with CPI. The discrepancy means we are further ahead than previously assessed.

### OFF-CHAIN AGENT SERVER (`/agent/`)

| Component | Status | File |
|-----------|--------|------|
| x402 middleware | WORKING | `src/utils/x402.ts` -- uses `@x402/express` v2.2.0, `@x402/svm` v2.2.0, facilitator at x402.org |
| x402 routes config | WORKING | POST /analyze ($0.05), POST /patch ($0.10), POST /agent ($0.10) -- all configured |
| Payment bypass | WORKING | `BYPASS_PAYMENT=true` env var for testing |
| /analyze endpoint | WORKING | `src/routes/analyze.ts` -- Claude analysis, revenue routing, receipt recording |
| /patch endpoint | EXISTS | `src/routes/patch.ts` -- needs verification |
| /agent endpoint | WORKING | `src/routes/agent.ts` -- general agent with tools |
| Revenue routing | WORKING | `src/services/revenue.ts` -- calls receive_revenue on vault, record_job on registry |
| Smart analysis | WORKING | `src/services/smart-analysis.ts` -- multi-pass analysis |
| Repo analyzer | WORKING | `src/services/repo-analyzer.ts` -- GitHub repo analysis |
| Memory system | WORKING | `src/services/embedding-memory.ts` -- OpenAI embeddings + SQLite |
| Agent loop | WORKING | `src/services/agent-loop.ts` -- tool-calling loop |

### FRONTEND (`/app/`)

| Component | Status |
|-----------|--------|
| Next.js app shell | WORKING |
| HelixHero + landing | WORKING |
| Agent Directory | WORKING (mock data) |
| Agent Detail page | EXISTS (needs real data wiring) |
| Dashboard | EXISTS (needs real data wiring) |
| Create Agent page | EXISTS (needs factory wiring) |
| Header/Footer | WORKING |
| Wallet adapter | WORKING |
| HireAgentForm | EXISTS (new) |
| Search page | EXISTS (new) |

### INFRASTRUCTURE

| Component | Status |
|-----------|--------|
| ECS Fargate cluster | DEPLOYED |
| ALB + Route53 | DEPLOYED (agents.blockhelix.tech) |
| ECR registry | DEPLOYED |
| Terraform | WORKING |
| Docker build | WORKING (--platform linux/amd64) |

### DEVNET DEPLOYMENT

NOT YET DEPLOYED. Programs compile locally, tests pass locally, but no devnet deployment confirmed.

---

## BRAIN.MD 5-DAY PLAN vs REALITY

### Feb 7 (TODAY): Lock Patch Agent endpoint + x402 + Arweave + complete_job

**Plan says:**
- Lock Patch Agent endpoint as `/ne1/patch`
- Implement x402 + Arweave upload + `complete_job` call
- Test e2e locally

**Reality:**
- x402 middleware is wired up (`@x402/express` v2.2.0 + `@x402/svm` v2.2.0)
- `/patch` endpoint exists and calls Claude + creates PRs
- Revenue routing calls `receive_revenue` on vault and `record_job` on registry
- MISSING: Arweave upload (receipt stored on-chain as hash, not on Arweave)
- MISSING: Endpoint naming (`/patch` not `/ne1/patch` -- cosmetic)
- MISSING: Verified e2e test with payment bypass

**Gap assessment:** MODERATE. Core plumbing exists. Arweave upload is a nice-to-have (on-chain hash is sufficient for demo). The rename to `/ne1/patch` is trivial. The critical missing piece is an e2e test proving the full flow works.

### Feb 8: Deploy vault + receipt-registry on devnet. Film payment -> PR flow.

**Plan says:** Deploy programs, film demo of clean payment flow.

**Reality:**
- Programs compile and tests pass locally
- No devnet deployment yet
- Demo video not started

**Gap assessment:** MEDIUM. Devnet deployment is a `solana program deploy` command away. Filming requires a working e2e flow first.

### Feb 9: Add manual challenge + slash demo shot.

**Plan says:** Show dispute mechanism in demo video.

**Reality:** ReceiptRegistry has `challenge_job`, `resolve_for_agent`, `resolve_against_agent` all implemented. The code is there, just needs a test script to demonstrate it.

**Gap assessment:** SMALL. Code exists. Just need a demo script.

### Feb 10: Polish dashboard + video edit.

**Plan says:** Dashboard polish + video editing.

**Reality:** Dashboard page exists but uses mock data. Needs real on-chain data wiring.

**Gap assessment:** MEDIUM. Dashboard wiring to devnet data is a day of frontend work.

### Feb 11: Submit + rest.

**Plan says:** Submit to Colosseum.

**Reality:** Project is draft status. Missing: solanaIntegration, technicalDemoLink, presentationLink. Description needs update for Ne1/BlockHelix split.

---

## RESEARCH FINDINGS

### x402 on Solana -- RESOLVED

x402 is fully live on Solana. Our integration is correct:
- `@x402/core` v2.2.0, `@x402/express` v2.2.0, `@x402/svm` v2.2.0 -- all installed
- Facilitator: `https://x402.org/facilitator`
- CAIP-2 devnet: `solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1`
- CAIP-2 mainnet: `solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp`
- USDC devnet mint: `4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU`
- `x402-solana` npm package exists as alternative
- Protocol doing ~$600M annualized volume, 51% on Solana
- V2 is "multi-chain by default"
- Express middleware: `paymentMiddleware(routes, resourceServer)` -- exactly what we have

The x402 integration is correctly implemented. No changes needed to the SDK approach.

Sources:
- https://github.com/coinbase/x402
- https://solana.com/developers/guides/getstarted/intro-to-x402
- https://www.npmjs.com/package/x402-solana
- https://solana.com/x402/what-is-x402

### Arweave Upload -- DEPRIORITIZE

Brain.md mentions Arweave CID storage for receipts. Research shows:
- `@irys/arweave` is the current SDK (Bundlr is deprecated)
- Requires AR token deposits on Irys nodes
- Additional dependency, token requirement, and complexity

DECISION: SKIP Arweave for hackathon. The ReceiptRegistry already stores `artifact_hash` (SHA-256) on-chain. That is sufficient proof. Arweave adds complexity without proportional demo value. If judges ask, explain: "On-chain hash is the proof. Arweave storage for full artifact is production roadmap."

Sources:
- https://github.com/Irys-xyz/arweave
- https://arweave_docs.ar.io/guides/posting-transactions/irys.html

### Agent Key Management -- CURRENT STATE

Currently: `AGENT_WALLET_PATH` env var pointing to JSON keypair file. Loaded once, cached.
For Fargate: stored in AWS Secrets Manager, injected as env var.
Brain.md question about secure key management is handled by the ECS Fargate sandbox (C16): zero-perm task role, no IMDS access, read-only rootfs. Key is in memory only.

---

## COLOSSEUM STATUS

### Agent
- Agent ID: 424
- Status: claimed (Will claimed via @willschiller)
- Forum posts: 7
- Replies on our posts: 60 (significant engagement)

### Project
- Project ID: 199
- Status: draft
- Human upvotes: 1
- Agent upvotes: 1
- Tags: defi, ai, trading
- Missing: solanaIntegration, technicalDemoLink, presentationLink
- Last updated: 2026-02-06

### Leaderboard (top 5)
1. SIDEX -- 295 human + 19 agent votes, draft
2. ClaudeCraft -- 277 human + 41 agent, submitted
3. SOLPRISM -- 201 human + 50 agent, draft
4. Proof of Work (jarvis) -- 199 human + 40 agent, submitted
5. Clodds -- 160 human + 61 agent, submitted

We are NOT on the visible leaderboard (1 human + 1 agent vote). Significant gap.
407 total projects in hackathon.

### Competitive Intel

No direct competitor building "platform for tokenised agents with accountable vaults."
Closest adjacencies:
- SOLPRISM -- verifiable AI reasoning proofs (complementary, not competitive)
- Agent Bounty Board (mogra) -- bounty system for agents (labor market, different angle)
- Various trading bots (SIDEX, Clodds, SuperRouter) -- different category entirely

Our unique angle: economic accountability (vault + bond + slash) for agent output quality.

---

## REVISED 5-DAY EXECUTION PLAN

Aligned to brain.md. Prioritizes demo-ability over feature completeness.

### Feb 7 (TODAY) -- Wire + Test E2E

**MUST DO:**
1. Test `/patch` endpoint e2e with `BYPASS_PAYMENT=true`
   - Clone a repo, generate patch, create GitHub PR
   - Verify revenue routing calls succeed (or fail gracefully without devnet)
   - Verify receipt recording calls succeed (or fail gracefully)
2. Test `/analyze` endpoint e2e
3. Verify x402 middleware returns proper 402 responses when payment missing

**NICE TO HAVE:**
4. Rename endpoints to `/ne1/patch` and `/ne1/analyze` (cosmetic, low priority)
5. Deploy agent server to ECS with updated code

### Feb 8 -- Devnet Deploy + Film Demo

**MUST DO:**
1. Deploy AgentVault + ReceiptRegistry + AgentFactory to devnet
   - `anchor build && anchor deploy --provider.cluster devnet`
   - Update IDLs in agent server
2. Test revenue routing against devnet vault
3. Test record_job against devnet registry
4. Film clean demo: x402 payment -> patch generation -> GitHub PR -> on-chain receipt
   - Use BYPASS_PAYMENT for smooth recording if x402 facilitator has issues
   - Show the 402 response separately as proof x402 works

**NICE TO HAVE:**
5. Wire frontend Agent Detail page to devnet data
6. Create a test agent via AgentFactory on devnet

### Feb 9 -- Challenge Demo + Polish

**MUST DO:**
1. Write a script that demonstrates challenge_job -> resolve_against_agent -> slash
   - Can be a TypeScript test script, doesn't need UI
   - Film this as the "accountability reveal" portion of the demo
2. Polish demo video:
   - Part 1: Clean AWS-style x402 flow (boring, professional)
   - Part 2: "How is it backed?" reveal -- vault, bond, slash, on-chain receipts
3. Update Colosseum project description for Ne1/BlockHelix positioning

**NICE TO HAVE:**
4. Dashboard showing agent stats from devnet
5. Forum progress post with demo screenshots

### Feb 10 -- Video + README + Submission Prep

**MUST DO:**
1. Edit and finalize demo video (3-5 min)
   - Upload to YouTube or Loom
2. Write README:
   - Product: Ne1 = AWS-style AI agent infrastructure, BlockHelix = protocol engine
   - Architecture: vault + registry + factory + x402 + Patch Agent
   - How to run: step-by-step for local dev + devnet
   - Demo instructions
3. Update Colosseum project fields:
   - solanaIntegration: detailed description
   - presentationLink: video URL
   - technicalDemoLink: URL or instructions
   - Description: Ne1/BlockHelix positioning

**NICE TO HAVE:**
4. Forum post with demo video link
5. Final polish on frontend

### Feb 11 -- Final Test + SUBMIT

**MUST DO:**
1. Final e2e test: create agent -> patch endpoint -> revenue -> receipt -> challenge
2. Verify all submission checklist items
3. PUT /my-project with final updates
4. POST /my-project/submit -- IRREVERSIBLE
5. Target: submitted by Feb 11 evening (12+ hours buffer)

**NEVER DO:**
- Do not submit before verifying demo video plays
- Do not submit without solanaIntegration field
- Do not submit without presentationLink

---

## SCOPE DECISIONS (Final)

### NEVER CUT (demo depends on these)
1. x402 payment flow (402 response, payment verification)
2. Patch Agent producing real GitHub PRs
3. AgentVault receive_revenue working on devnet
4. ReceiptRegistry record_job working on devnet
5. Demo video showing the above

### CUT IF TIME PRESSURE
6. AgentFactory create_agent demo (show via CLI/test, not UI)
7. Create Agent UI (describe in README, demo via CLI)
8. Dashboard with real devnet data (mock data is OK)
9. Arweave upload (on-chain hash is sufficient)
10. `/ne1/` endpoint rename (cosmetic, `/patch` works fine)

### ALREADY CUT
- General agent 3-tier freemium model (interesting but not the demo story)
- EC2 provisioning per user
- OpenClaw integration
- Evaluator agent staking (manual resolve for hackathon)
- Invest flow polish (basic deposit via CLI is enough)
- Advanced memory features

---

## WHITEPAPER ASSESSMENT

The whitepaper (`/docs/whitepaper.md`) is strong -- 28 references, rigorous economic analysis, NAV conservation proofs, honest limitations section. However:

### Needs Update (for Ne1/BlockHelix split -- D08):
1. Title and abstract mention only "BlockHelix" -- should clarify Ne1 as the user-facing product layer
2. Section 5.1 describes programs as the system -- could add a paragraph about the Ne1 product layer on top
3. No mention of the "AWS for agents" positioning or the clean HTTP/x402 interface

### Does NOT Need Update (keep as-is):
- The economic model, proofs, competitive analysis, and limitations are protocol-level concerns that correctly live under the "BlockHelix" name
- The whitepaper IS the protocol spec. Ne1 is the product. They should be separate documents.

RECOMMENDATION: Do NOT rewrite the whitepaper for the hackathon. The protocol analysis stands on its own. Instead:
1. Add a one-paragraph "Product Layer" note in Section 5.1 mentioning Ne1
2. Update the README to explain the two-layer model
3. The demo video does the Ne1 positioning work

### Concepts from brain.md NOT in whitepaper:
- C01 "agents exist because the real world is distributed" -- excellent framing for intro
- C06 "economic proxy" concept -- worth a paragraph in Section 3
- C16 sandbox architecture -- worth mentioning in Section 8.5 (smart contract risk)
- But: these are post-hackathon whitepaper revisions, not urgent

---

## INFRASTRUCTURE TODOS (from brain.md, pre-production)

Not blocking hackathon but needed before real deployment:
- [ ] NACL rule 52: `protocol = "-1"` (currently TCP only, needs all protocols)
- [ ] Task def env: `HOME=/tmp`, `XDG_CACHE_HOME=/tmp/.cache`
- [ ] Verify execution role is ECR pull + CloudWatch only
- [ ] Confirm ECS Exec is not enabled
- [ ] Egress security group: restrict to 443 + 53 only

---

## FORUM STRATEGY (Remaining Days)

- 60 replies on our posts already -- strong organic engagement
- 7 posts published
- Should post 1-2 more times:
  - Feb 9-10: Demo progress post with screenshots/video link
  - Engage genuinely with 1-2 technical threads per day
- Do NOT spam. Quality > quantity.
- Plain text in comments (no markdown rendering).

---

## VOTE GAP ANALYSIS

We have 1 human + 1 agent vote. Top project has 295 human votes.
Realistic assessment: We will NOT win on votes alone. The gap is too large.

Strategy:
1. Build the most technically impressive project (judges evaluate code quality, not just votes)
2. Demo video quality matters more than vote count for prize placement
3. "Most Agentic" prize ($5K) is achievable -- our agent DOES real work (code patches, GitHub PRs)
4. Forum engagement builds awareness but 5 days is not enough to close a 294-vote gap

Focus: Build impressive tech, film great demo, write clear README. Let the work speak.

---

## End of Notes

**Status:** EXECUTION MODE
**Confidence:** HIGH on technical delivery, LOW on vote placement
**Critical path:** E2E test today, devnet deploy tomorrow, film demo day after
**Next action for Will:** Test `/patch` endpoint with `BYPASS_PAYMENT=true` and verify it creates a real GitHub PR
